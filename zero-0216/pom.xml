<?xml version="1.0" encoding="UTF-8"?>
<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns="http://maven.apache.org/POM/4.0.0"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>io.zerows</groupId>
        <artifactId>zero-ecotope</artifactId>
        <version>${revision}</version>
    </parent>
    <artifactId>zero-0216</artifactId>
    <packaging>pom</packaging>
    <name>(POM) üìöÔ∏è - Zero Stack ${revision} / Momo ${momo.version}</name>
    <dependencyManagement>
        <dependencies>
            <!--
            ÁâàÊú¨ÁÆ°ÁêÜ‰∏ìÁî® Stack
            -->
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>rachel-momo-0216</artifactId>
                <version>${momo.version}</version>
                <scope>import</scope>
                <type>pom</type>
            </dependency>
            <!--
            ÁâàÊú¨ÁÆ°ÁêÜ‰∏ìÁî® Stack
            -->
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>r2mo-0216</artifactId>
                <version>${r2mo.version}</version>
                <scope>import</scope>
                <type>pom</type>
            </dependency>
            <!--
            Zero Core ÁâàÊú¨ÁÆ°ÁêÜ
            -->
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>zero-version-epoch</artifactId>
                <version>${revision}</version>
                <scope>import</scope>
                <type>pom</type>
            </dependency>
            <!--
            Zero Plugins ÁâàÊú¨ÁÆ°ÁêÜ
            -->
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>zero-version-plugins</artifactId>
                <version>${revision}</version>
                <scope>import</scope>
                <type>pom</type>
            </dependency>
            <!--
            Zero Extension ÁâàÊú¨ÁÆ°ÁêÜ
            -->
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>zero-version-extension</artifactId>
                <version>${revision}</version>
                <scope>import</scope>
                <type>pom</type>
            </dependency>
            <!--
            ÂØπÊé•Â±ÇÔºåÂ∫ïÂ±ÇËøûÊé• Overlay / R2MO
            -->
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>zero-version-overlay</artifactId>
                <version>${revision}</version>
                <scope>import</scope>
                <type>pom</type>
            </dependency>
            <!-- ================= ÂÖ•Âè£ ================== -->
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>zero-boot-epoch-actor</artifactId>
                <version>${revision}</version>
            </dependency>
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>zero-boot-extension-actor</artifactId>
                <version>${revision}</version>
            </dependency>
            <dependency>
                <groupId>io.zerows</groupId>
                <artifactId>zero-boot-cloud-actor</artifactId>
                <version>${revision}</version>
            </dependency>
        </dependencies>
    </dependencyManagement>
    <properties>
        <maven.main.class>WaitFor</maven.main.class>
    </properties>
    <build>
        <plugins>
            <plugin>
                <groupId>org.flywaydb</groupId>
                <artifactId>flyway-maven-plugin</artifactId>
                <configuration>
                    <configFiles>
                        <configFile>${project.build.outputDirectory}/flyway.conf</configFile>
                    </configFiles>
                    <locations>
                        <location>filesystem:${project.basedir}/src/main/resources/plugins/${project.parent.artifactId}/flyway/MYSQL</location>
                    </locations>
                </configuration>
                <dependencies>
                    <dependency>
                        <groupId>org.flywaydb</groupId>
                        <artifactId>flyway-mysql</artifactId>
                        <version>${database-flyway.version}</version>
                    </dependency>
                </dependencies>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <executions>
                    <execution>
                        <id>copy-dependencies</id>
                        <phase>package</phase>
                        <goals>
                            <goal>copy-dependencies</goal>
                        </goals>
                        <configuration>
                            <!-- <includeScope>compile</includeScope> -->
                            <type>jar</type>
                            <includeTypes>jar</includeTypes>
                            <!-- Â≠òÊîæÊúçÂä°‰æùËµñÁöÑjarÂåÖÔºåÂ≠òÊîæÂú®ÊúçÂä°Áõ∏ÂêåÁõÆÂΩïÁöÑlibÊñá‰ª∂Â§π‰∏ã -->
                            <outputDirectory>
                                target/lib
                            </outputDirectory>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <!--
            ÊâìÂåÖ JAR ÂèØÊâßË°åÁ®ãÂ∫èÔºåÂπ∂ÂØπ‰πãÂâçÁöÑÁ®ãÂ∫èÊâßË°åÂ§á‰ªΩ
            -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-jar-plugin</artifactId>
                <configuration>
                    <!-- Êäätarget/classes/‰∏ãÁöÑÊñá‰ª∂ÂØºÂÖ•Âà∞jarÂÜÖ -->
                    <classesDirectory>target/classes</classesDirectory>
                    <finalName>app</finalName>
                    <archive>
                        <manifest>
                            <!-- ÊåáÂÆöÁ®ãÂ∫èÂÖ•Âè£ -->
                            <mainClass>${maven.main.class}</mainClass>
                            <!-- ÊâìÂåÖÊó∂ MANIFEST.MFÊñá‰ª∂‰∏çËÆ∞ÂΩïÁöÑÊó∂Èó¥Êà≥ÁâàÊú¨ -->
                            <useUniqueVersions>false</useUniqueVersions>
                            <addClasspath>true</addClasspath>
                            <!-- ÊúçÂä°‰æùËµñÁöÑjarÂåÖÊîæÂú®libÁõÆÂΩï‰∏ã -->
                            <classpathPrefix>lib/</classpathPrefix>
                            <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
                        </manifest>
                        <manifestEntries>
                            <Class-Path>conf/</Class-Path>
                        </manifestEntries>
                    </archive>
                </configuration>
                <executions>
                    <execution>
                        <id>issue-jar</id>
                        <phase>package</phase>
                        <goals>
                            <goal>jar</goal>
                        </goals>
                        <configuration>
                            <classifier>bak</classifier>
                            <classesDirectory>${project.build.directory}/target/</classesDirectory>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
</project>