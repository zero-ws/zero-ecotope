package io.zerows.epoch.annotations;

import java.lang.annotation.Documented;
import java.lang.annotation.ElementType;
import java.lang.annotation.Inherited;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

/**
 * ğŸ›¡ï¸ å®‰å…¨å¢™æ³¨è§£ï¼Œç”¨äºé™åˆ¶è¯·æ±‚
 * <pre>
 * 1. ğŸš« è¿”å› 401 å“åº” (æœªæˆæƒ)
 * 2. ğŸš« è¿”å› 403 å“åº” (ç¦æ­¢è®¿é—®)
 * </pre>
 * ç”¨äºå®‰å…¨éœ€æ±‚ã€‚
 */
@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
public @interface Wall {
    /**
     * ğŸ” é»˜è®¤å®‰å…¨é™åˆ¶åº”ç”¨äºæ‰€æœ‰è¯·æ±‚çš„è·¯å¾„ã€‚
     *
     * @return å°†è¢«å®‰å…¨è¿‡æ»¤å™¨å¤„ç†çš„è·¯å¾„ã€‚
     */
    String path() default "/*";

    /**
     * ğŸ“Œ å®‰å…¨å¢™çš„å¿…éœ€æ ‡è¯†ï¼Œå®ƒæä¾›ä»¥ä¸‹ç»„ä»¶æ„å»º
     * <pre>
     * 1. ğŸ› ï¸ Handler æ„å»º
     * 2. ğŸ­ Provider æ„å»º
     * </pre>
     * å®ƒæ˜ å°„åˆ° "secure" é…ç½®èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹å¯ä»¥é…ç½®ä»¥ä¸‹ä¿¡æ¯
     * <pre>
     *     æ­¤å¤„çš„ value ç›´æ¥å¯¹åº”é…ç½®ä¸­çš„æŸä¸ªèŠ‚ç‚¹ï¼Œé…ç½®ä¸­çš„ç‰‡æ®µå¦‚
     *     security:
     *       master:     ï¼ˆé…ç½®ä¸»è¦é’ˆå¯¹æ­¤å¤„ï¼‰
     *         type:  ??? å†³å®šäº† Provider çš„ç±»å‹
     *         options:   ä¼ é€’ç»™ Provider çš„é…ç½®é€‰é¡¹
     * </pre>
     *
     * @return å½“å‰æ„å»ºæ‰€éœ€çš„æ ‡è¯†ã€‚
     */
    String value() default "master";

    /**
     * ğŸ”„ å®‰å…¨å¢™åºåˆ—çš„å€¼ï¼Œç”¨äºè®¤è¯å¤„ç†å™¨é“¾ã€‚
     * ã€Œæ—§ç‰ˆæœ¬ã€:
     * <pre>
     * 1. ğŸ“Œ æ‰€æœ‰å®‰å…¨å¢™ç±»å¿…é¡»åŒ…å«ä¸åŒçš„æ ‡è¯†
     * 2. ğŸ”‘ ä¸»è¦å®‰å…¨å¢™åº”ä¸º 0ï¼Œå…¶ä»–å¯ä¸º 1, 2, 3ã€‚
     * 3. ğŸ”„ å®‰å…¨å¢™å¤„ç†å™¨åºåˆ—åº”æŒ‰ 0,1,2,3... è§¦å‘ã€‚
     *    æ­¤æ ‡è¯†éœ€è¦å¤šå¤„ç†å™¨æ¨¡å¼ã€‚
     * </pre>
     * <p>
     * ã€Œæ–°ç‰ˆæœ¬ã€:
     * <pre>
     * 1. ğŸ“ è¯¥é¡ºåºå¯ç”¨äºå°†ä½ çš„å®‰å…¨å¢™æŒ‰è·¯å¾„åˆ†ç»„ï¼Œè¿™æ„å‘³ç€å½“ä¸€ä¸ªè·¯å¾„åŒ…å« n ä¸ª Aegis é…ç½®æ—¶ï¼Œ
     *    å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨ ChainAuthHandlerã€‚è¯·æ³¨æ„ï¼Œé¡ºåºä»…ç”¨äºâ€œåˆ†ç»„â€ï¼Œå®ƒä¸è·¯ç”±é¡ºåºä¸åŒï¼Œè¿™é‡Œå¾ˆé‡è¦ã€‚
     *
     * 2. ğŸ§­ å¦‚æœä½ å®šä¹‰äº†å¤šä¸ªæˆæƒæ–¹æ³•ï¼Œç³»ç»Ÿå°†é€‰æ‹©é¡ºåºå€¼æœ€å°çš„é‚£ä¸ª
     * </pre>
     *
     * @return å°†è¢«æ„å»ºåˆ°å®‰å…¨é“¾ä¸­çš„å¤„ç†å™¨é¡ºåºå€¼ã€‚
     */
    int order() default 0;          // VValue.ZERO;


    String type() default "NONE";        // é¢„ç•™å­—æ®µï¼Œæœªæ¥å¯èƒ½ä¼šç”¨åˆ°
}