DROP TABLE IF EXISTS `R_USER_ROLE`;

CREATE TABLE IF NOT EXISTS `R_USER_ROLE` (
    -- ==================================================================================================
    -- üîó 1. ÂÖ≥ËÅî‰∏ªÈîÆÂå∫ (Composite Primary Key)
    -- ==================================================================================================
    `USER_ID`   VARCHAR(36)  COLLATE utf8mb4_bin NOT NULL COMMENT '„ÄåuserId„Äç- Ë¥¶Âè∑ID',                       -- [‰∏ªÈîÆ] ÂÖ≥ËÅî S_USER.ID (ËÅîÂêà‰∏ªÈîÆ1)
    `ROLE_ID`   VARCHAR(36)  COLLATE utf8mb4_bin NOT NULL COMMENT '„ÄåroleId„Äç- ËßíËâ≤ID',                       -- [‰∏ªÈîÆ] ÂÖ≥ËÅî S_ROLE.ID (ËÅîÂêà‰∏ªÈîÆ2)

    -- ==================================================================================================
    -- ‚öôÔ∏è 2. ÂÖ≥Á≥ªÂ±ûÊÄßÂå∫ (Relationship Attributes)
    -- ==================================================================================================
    `PRIORITY`  INTEGER      DEFAULT 0 COMMENT '„Äåpriority„Äç- ‰ºòÂÖàÁ∫ß',                                        -- [ÊéíÂ∫è] ÂÜ≥ÂÆöÂ§öÁªÑÂπ∂Â≠òÊó∂ÁöÑÊùÉÈôêÁªßÊâøÈ°∫Â∫è (Êï∞ÂÄºË∂äÂ∞è‰ºòÂÖàÁ∫ßË∂äÈ´ò)

    -- ==================================================================================================
    -- ‚ö° 7. Á¥¢ÂºïÂÆö‰πâ (Index Definition)
    -- ==================================================================================================
    PRIMARY KEY (`USER_ID`, `ROLE_ID`) USING BTREE,                                                           -- [Á∫¶Êùü] Á°Æ‰øùÁî®Êà∑‰∏éËßíËâ≤ÁöÑÂîØ‰∏ÄÁªëÂÆöÂÖ≥Á≥ª
    KEY `IDX_R_USER_ROLE_USER_ID` (`USER_ID`) USING BTREE                                                     -- [Êü•ËØ¢] ÂèçÊü•Áî®Êà∑ÊâÄÂ±ûÁöÑËßíËâ≤ (User -> Roles)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_bin COMMENT='Ë¥¶Âè∑-ËßíËâ≤';